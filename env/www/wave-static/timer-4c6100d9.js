var l=0,a=0,r=0,p=1e3,s,c,u=0,i=0,w=0,f=typeof performance=="object"&&performance.now?performance:Date,y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function k(){return i||(y(v),i=f.now()+w)}function v(){i=0}function _(){this._call=this._time=this._next=null}_.prototype=x.prototype={constructor:_,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?k():+e)+(n==null?0:+n),!this._next&&c!==this&&(c?c._next=this:s=this,c=this),this._call=t,this._time=e,m()},stop:function(){this._call&&(this._call=null,this._time=1/0,m())}};function x(t,n,e){var o=new _;return o.restart(t,n,e),o}function d(){k(),++l;for(var t=s,n;t;)(n=i-t._time)>=0&&t._call.call(null,n),t=t._next;--l}function h(){i=(u=f.now())+w,l=a=0;try{d()}finally{l=0,I(),i=0}}function T(){var t=f.now(),n=t-u;n>p&&(w-=n,u=t)}function I(){for(var t,n=s,e,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:s=e);c=t,m(o)}function m(t){if(!l){a&&(a=clearTimeout(a));var n=t-i;n>24?(t<1/0&&(a=setTimeout(h,t-f.now()-w)),r&&(r=clearInterval(r))):(r||(u=f.now(),r=setInterval(T,p)),l=1,y(h))}}export{x as t};
